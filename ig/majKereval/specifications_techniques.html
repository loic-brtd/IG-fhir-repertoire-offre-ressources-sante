<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>ANS.FHIR.FR.ROR\Specifications Techniques - FHIR v4.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/style-ans.css"/>
    <link rel="stylesheet" href="assets/css/style-add-ans.css"/>
    <!-- CSS only -->
    <!-- Placeholder for child template CSS declarations -->

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"3"}
    h3,h4,h5,h6{--heading-prefix:"3"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->
<div id="family-nav">
    <a id="hl7-search-lnk" no-external="true" href="http://hl7.org/fhir"><img height="50" alt="Visit the FHIR website" src="assets/images/fhir-logo-www.png"/> </a>
  </div>
  <div id="ans-nav">
    <a id="hl7-logo" no-external="true" href="https://esante.gouv.fr/"><img height="50" alt="ANS Logo" src="assets/images/logo-ANS.svg"/></a>
  </div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">ROR ME 3.0</span>
            <br/>
            <span style="display:inline-block;">3.0 - ci-build


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">Accueil</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Spécifications fonctionnelles
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="specifications_fonctionnelles.html">Spécifications fonctionnelles</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Spécifications techniques
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="specifications_techniques.html">Spécifications techniques</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="artifacts.html">Ressources de conformance</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Autres ressources
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="downloads.html">Téléchargements et usage</a>
      </li>
      <li>
        <a target="_blank" href="http://hl7.org/fhir/R4/index.html">Spécifications FHIR </a>
      </li>
      <li>
        <a target="_blank" href="https://esante.gouv.fr/">Site de l&apos;ANS </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="about.html">A propos de ce guide</a>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>Specifications Techniques</b></li>

          <span style="float:right;">

            <a href="specifications_fonctionnelles.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="autres_ressources.html">next&gt;</a>

          </span>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">Publication Build: This will be filled in by the publication tooling</p><!--EndReleaseHeader-->
  <h2>Specifications Techniques</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#consultation-des-données-capacitaires" id="markdown-toc-consultation-des-données-capacitaires">Consultation des données capacitaires</a>    <ul>
      <li><a href="#caractéristiques-de-lapi" id="markdown-toc-caractéristiques-de-lapi">Caractéristiques de l’API</a></li>
      <li><a href="#construction-de-la-requête-de-base" id="markdown-toc-construction-de-la-requête-de-base">Construction de la requête de base</a></li>
      <li><a href="#construction-de-la-réponse-de-base" id="markdown-toc-construction-de-la-réponse-de-base">Construction de la réponse de base</a></li>
      <li><a href="#critères-de-rechercheapplicables-à-date" id="markdown-toc-critères-de-rechercheapplicables-à-date">Critères de recherche applicables à date</a></li>
      <li><a href="#critères-de-recherche-à-venir" id="markdown-toc-critères-de-recherche-à-venir">Critères de recherche : à venir</a></li>
      <li><a href="#paramètres-et-modificateurs-de-requêtes-fhir" id="markdown-toc-paramètres-et-modificateurs-de-requêtes-fhir">Paramètres et modificateurs de requêtes FHIR</a></li>
      <li><a href="#section-1-list-paragraph" id="markdown-toc-section-1-list-paragraph">{#section-1 .list-paragraph}</a></li>
      <li><a href="#exemple-de-requêtes" id="markdown-toc-exemple-de-requêtes">Exemple de requêtes</a></li>
    </ul>
  </li>
  <li><a href="#annexes" id="markdown-toc-annexes">Annexes</a>    <ul>
      <li><a href="#jeu-de-données-pour-exemple" id="markdown-toc-jeu-de-données-pour-exemple">Jeu de données pour exemple</a></li>
    </ul>
  </li>
</ul>

</div>

<h2 id="consultation-des-données-capacitaires">Consultation des données capacitaires</h2>

<h3 id="caractéristiques-de-lapi">Caractéristiques de l’API</h3>
<p>|                 |                            |
|—————–|—————————-|
| Endpoint        |                            |
| Header          | Content-type :=Json + FHIR |
| Encodage        |                            |
| Version FHIR    |                            |
| Version package |                            |
| Publication     |                            |</p>

<h3 id="construction-de-la-requête-de-base">Construction de la requête de base</h3>

<table>
  <thead>
    <tr>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Interaction FHIR</td>
      <td>Search</td>
    </tr>
    <tr>
      <td>Méthode http associée</td>
      <td>GET</td>
    </tr>
    <tr>
      <td>Ressource recherchée</td>
      <td>Location</td>
    </tr>
    <tr>
      <td>Construction requête de base</td>
      <td>GET[base]/Location{?[parameters]{&amp;_format=[mime-type]}}</td>
    </tr>
  </tbody>
</table>

<h3 id="construction-de-la-réponse-de-base">Construction de la réponse de base</h3>

<h4 id="réponse-de-base--succès">Réponse de base – Succès</h4>

<p>Lien vers la spécification FHIR : <a href="https://www.hl7.org/fhir/bundle.html">https://www.hl7.org/fhir/bundle.html</a></p>

<p>Si la recherche est un succès, le serveur répond :</p>

<ul>
  <li>
    <p>Un header avec un code 200 OK HTTP</p>
  </li>
  <li>
    <p>Un body contenant une ressource Bundle<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" class="footnote" rel="footnote">1</a></sup> dont le type =
searchset.<br />
Le bundle encapsule 0 à n ressources Location corespondant aux
critères de recherche plus les ressources incluses correspondantes
aux critères de recherche.<br />
Le service développé renvoie les 200 premiers résultats et indique
le total trouvé dans une balise "total". Dans le cas où il n’y a
pas de résultat le service renvoie "total": 0.</p>
  </li>
</ul>

<p>Remarque : la recherche est un succès à partir du moment où la requête
peut être exécutée. Il peut il y avoir 0 à n correspondances.</p>

<p>Plus de précision sur la spécification FHIR :
https://www.hl7.org/fhir/http.html</p>

<h4 id="réponse-de-base--echec">Réponse de base – Echec</h4>

<p>Lien vers la spécification FHIR :
<a href="https://www.hl7.org/fhir/operationoutcome.html">https://www.hl7.org/fhir/operationoutcome.html</a></p>

<p>Si la recherche échoue, le serveur doit répondre :</p>

<ul>
  <li>
    <p>Un header avec un un code erreur HTTP 4XX ou 5XX</p>
  </li>
  <li>
    <p>Un body contenant une ressource OperationOutcome<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" class="footnote" rel="footnote">2</a></sup> qui donne les
détails sur la raison de l’échec</p>
  </li>
</ul>

<p>Remarque : l’échec d’une recherche est la non-possibilité d’exécuter la
requête, ce qui est différent d’aucune correspondance à la recherche.
Plus de précision sur la spécification FHIR :
https://www.hl7.org/fhir/http.html</p>

<h3 id="critères-de-rechercheapplicables-à-date">Critères de recherche applicables à date</h3>

<h4 id="structuredefinition-ror-location">StructureDefinition-ror-location</h4>
<p>| Attribut ME 3.0                                                    | Search parameters  | Natif FHIR | Type FHIR | Description                                                                                                                   |
|——————————————————————–|——————–|————|———–|——————————————————————————————————————————-|
| -                                                                  | _lastUpdated       | Oui        | Date      | Date de dernière mise à jour.                                                                                                 |
| LieuRealisationOffre                                               |                    |            |           |                                                                                                                               |
| idExterneSynchro                                                   | identifier         | Oui        | token     | L’identifiant externe de synchronisation est l’identifiant défini par le porteur d’offre pour la zone d’hébergement des lits. |
| Location.identifier.type = 26 | JDV_J236                           |
| identifiant                                                        | identifier         | Oui        | token     | Identifiant fonctionnel du lieu.                                                                                              |
| Location.identifier.type = 25 | JDV_J236                           |
| CapaciteAccueilOperationnelle                                      |                    |            |           |
| statutCapacite                                                     | capacity-status    | Non        | token     | Permet de préciser le statut des lits décrits.                                                                                |
| JDV_J188-TypeStatutCapacite-ROR issu de la TRE_R330-StatutCapacite |
| nombreCapacite                                                     | nb-capacity        | Non        | number    | Quantité de lits ou places de la capacité exprimée.                                                                           |</p>

<h4 id="structuredefinition-ror-healthcareservice">StructureDefinition-ror-healthcareservice</h4>

<p>Critères de recherches applicables à la ressource HealthcareService.
| Attribut ME 3.0     | Search parameters  | Natif FHIR | Type FHIR | Description                       |
|———————|——————–|————|———–|———————————–|
| -                   | location           | Oui        | reference | Référence à la ressource Location |
| OffreOperationnelle |
| identifiantOffre    | identifier         | Oui        | token     | Identifiant de l’offre            |</p>

<p>Ces critères de recherche sont également applicables à la ressource
Location, grâce au chainage<sup id="fnref:4" role="doc-noteref"><a href="#fn:4" class="footnote" rel="footnote">3</a></sup>. Pour cela utiliser la syntaxe
suivante : _has:HealthcareService:location:[NOM CRITERE]</p>

<h3 id="critères-de-recherche-à-venir">Critères de recherche : à venir</h3>

<h4 id="structuredefinition-ror-location-1">StructureDefinition-ror-location</h4>
<p>| Attribut ME 3.0                                                              | Search parameters     | Natif FHIR | Type FHIR | Description                                                                                                                                                                                                                                            |
|——————————————————————————|———————–|————|———–|——————————————————————————————————————————————————————————————————————————————————–|
| LieuRealisationOffre                                                         |                       |            |           |                                                                                                                                                                                                                                                        |
| fonctionLieu                                                                 | type                  | Oui        | token     | La fonction correspond à la destination d’usage du lieu.                                                                                                                                                                                               |
| JDV_J198-FonctionLieu-ROR issu de la TRE_R343-FonctionLieu                   |
| Adresse/codePostal                                                           | address-postalcode    | Oui        | string    | Code Postal ou code postal spécifique CEDEX                                                                                                                                                                                                            |
| Adresse/localite                                                             | address-city          | Oui        | string    | Localité ou Libellé du bureau distributeur CEDEX                                                                                                                                                                                                       |
| EquipementSpecifique                                                         |                       |            |           |
| typeEquipement                                                               | equipment-type        | Non        | token     | Les équipements spécifiques décrits sont des ressources propres de la structure ou mises à disposition dans le cadre d’une convention à la condition qu’elles soient utilisées sur site.                                                               |
| JDV_J18-EquipementSpecifique-ROR issu de la TRE_R212-Equipement              |
| LimiteCaracteristiqueEquipement                                              |                       |            |           |
| typeCaracteristique                                                          | equipment-feature     | Non        | token     | Indique la caractéristique de l’équipement pour laquelle une valeur limite est précisée.                                                                                                                                                               |
| JDV_J228-TypeCaracteristiqueEquipement-ROR                                   |
| valeurLimite                                                                 | limit-value           | Non        | quantity  | Correspond à la valeur extrême associée à une caractéristique de l’équipement                                                                                                                                                                          |
| JDV_J37-UcumUniteTemps issu de la TRE_R247-UcumUniteMesure                   |
| CapaciteAccueilOperationnelle                                                |                       |            |           |
| natureCapacite                                                               | capacity-type         | Non        | token     | Indique si la capacité est exprimée en lits ou en places.                                                                                                                                                                                              |
| JDV_J187-NatureCapacite-ROR issu de la TRE_R329-NatureCapacite               |
| temporaliteCapacite                                                          | temporality-capacity  | Non        | token     | Indique le moment où cette capacité sera effective. Il est ainsi possible de décrire la situation immédiate, ou de fournir des informations prospectives de capacités, prenant notamment en compte les entrées et sorties déjà identifiés de patients. |
| JDV_J189-TemporaliteCapacite-ROR issu de la TRE_R331-Temporalite             |
| genreCapaciteDispo                                                           | gender-capacity       | Non        | token     | Genre des patients qui peuvent être installés dans des lits disponibles.                                                                                                                                                                               |
| JDV_J190-GenreCapacite-ROR issu de la TRE_R332-GenreCapacite                 |
| typeFermetureCapacite                                                        | capacity-closing-type | Non        | token     | Indique le statut de lits fermés, permettant d’identifier le nombre de lits fermés qui peuvent être réactivés en cas de besoin et le nombre de ceux qui ne peuvent pas l’être.                                                                         |
| JDV_J191-TypeFermetureCapacite-ROR issu de la TRE_R333-TypeFermetureCapacite |
| typeLitSupplementaire                                                        | additional-bed-type   | Non        | token     | Indique le statut de lits supplémentaires, pour identifier le nombre de lits supplémentaires déjà mobilisés et, par typologie de mobilisation possible, le nombre de lits qui ne le sont pas encore.                                                   |
| JDV_J192-TypeLitSupplementaire-ROR issu de la TRE_R334-TypeLitSupplementaire |
| typeCrise                                                                    | crisis-type           | Non        | token     | Indique le type de crise qui permet de mobiliser le nombre de lits supplémentaires décrits.                                                                                                                                                            |
| JDV_J194-TypeCrise-ROR issu de la TRE_R336-TypeCrise                         |
| dateMAJCapacite                                                              | capacity-update       | Non        | date      | Date à laquelle la capacité d’accueil a été mise à jour dans la source.                                                                                                                                                                                |
| CapaciteHabitation                                                           |                       |            |           |                                                                                                                                                                                                                                                        |
| typeHabitation                                                               | residential-type      |  Non       | token     | Le type d’habitation renseigne sur la taille et le nombre de pièces d’un logement.                                                                                                                                                                     |
| JDV_J32-TypeHabitation-ROR issu de la TRE_R242-TypeHabitation                |
| nbHabitation                                                                 | residential-number    | Non        | number    | Nombre d’habitations du même type.                                                                                                                                                                                                                     |
| CapacitePriseCharge                                                          |
| affectationTemporaire                                                        | temporary-assignement | Non        | token     | L’affectation temporaire permet de réserver tout ou partie des lits d’une zone d’hébergement pour des patients selon qu’ils soient –ou non- concernés par une pathologie (Covid+, Covid-, …) ou un évènement (catastrophe naturelle, attentat, …).     |
| JDV_J95-ModeExercice-RASS issu de la TRE_R23-ModeExercice                    |</p>

<h3 id="paramètres-et-modificateurs-de-requêtes-fhir">Paramètres et modificateurs de requêtes FHIR</h3>
<p>| Lien vers spécification                                                                                 | Description                                     |
|———————————————————————————————————|————————————————-|
| Paramètres et modificateurs : inclusion                                                                 |
| _revinclude                                                                                             | https://www.hl7.org/fhir/search.html#revinclude |
| Indique que les ressources qui font référence à HealthcareService doivent être incluses dans la réponse |
| _include                                                                                                | https://www.hl7.org/fhir/search.html#include    |
| Indique que les ressources référencées par HealthcareService doivent être incluses dans la réponse      |
| :iterate                                                                                                |                                                 | Le processus d’inclusion peut être itératif si le modificateur :iterate est ajouté dans la requête. |
| Paramètres et modificateurs : chainage inversé                                                          |                                                 |
| _has                                                                                                    | http://hl7.org/fhir/search.html#has             |
| Permet d’utiliser les paramètres de recherche des ressources faisant référence à la ressource Location  |
| Paramètres et modificateurs : réponses                                                                  |
| _count                                                                                                  | https://www.hl7.org/fhir/search.html#count      |
| Indique le nombre souhaité par le consommateur de résultat par page.                                    |
| RG_RECH_52 : Par défaut la recherche retourne 200 résultats maximum par page.                           |
| _sort                                                                                                   | http://hl7.org/fhir/search.html#_sort           |
| Indique dans quel ordre renvoyer les résultats                                                          |
| Préfixe de comparaison                                                                                  |                                                 |
| gt, lt, ge, le, sa &amp; eb                                                                                 | https://www.hl7.org/fhir/search.html#date       |
| Permet de faire des recherches comparatives                                                             |</p>

<h3 id="section-1-list-paragraph">{#section-1 .list-paragraph}</h3>

<h3 id="exemple-de-requêtes">Exemple de requêtes</h3>

<h4 id="scénario-1-données-capacitaires-de-france">Scénario 1 : Données capacitaires de France</h4>

<p>[Description du scénario :]{.underline} un consommateur souhaite
récupérer l'ensemble des données capacitaires de France afin de mettre
à jour son système</p>

<p>[Requête :]{.underline}</p>

<p>get[BASE]/Location?_revinclude=HealthcareService:location</p>

<p>[Requête expliquée :]{.underline}</p>

<p>get[BASE]/Location?_revinclude=HealthcareService:location #inclus les
HealthcareService qui référencent les Location</p>

<p>[Réponse “simplifiée” :]{.underline}</p>

<p>HTTP 200 OK<br />
resourceType: Bundle<br />
type: searchset<br />
total: 4</p>

<p>Location1 (match) UE1(include)<br />
Location2 (match) UE2(include)<br />
Location3 (match) UE3(include)<br />
Location4 (match) UE3(include)</p>

<h4 id="scénario-2-données-capacitaires-sur-un-lieu-de-prise-en-charge-identifié">Scénario 2 : Données capacitaires sur un lieu de prise en charge identifié</h4>

<p>[Description du scénario :]{.underline} un consommateur souhaite mettre
à jour dans son système les données de capacité sur un lieu de prise en
charge = Location1</p>

<p>[Requête :]{.underline}</p>

<p>get[BASE]/Location?identifier=Location1&amp;_revinclude=HealthcareService:location</p>

<p>[Requête expliquée :]{.underline}</p>

<p>get[BASE]/Location?identifier=Location1 #critère de recherche sur
l’identifiant technique du lieu de prise en charge</p>

<p>&amp;_revinclude=HealthcareService:location #inclus les HealthcareService
qui référencent les Location</p>

<p>[Réponse “simplifiée” :]{.underline}</p>

<p>HTTP 200 OK<br />
resourceType: Bundle<br />
type: searchset<br />
total: 1</p>

<p>Location1 (match) UE1(include)</p>

<h4 id="scénario-3-données-capacitaires-sur-plusieurs-lieux-de-prise-en-charge-identifiés">Scénario 3 : Données capacitaires sur plusieurs lieux de prise en charge identifiés</h4>

<p>[Description du scénario :]{.underline} un consommateur souhaite mettre
à jour dans son système les données de capacité sur plusieurs lieux de
prise en charge = Location1 ou Location2</p>

<p>[Requête :]{.underline}</p>

<p>get[BASE]/Location?identifier=Location1,Location2&amp;_revinclude=HealthcareService:location</p>

<p>[Requête expliquée :]{.underline}</p>

<p>get[BASE]/Location?identifier=Location1,Location2 #critère de
recherche sur l’identifiant technique du lieu de prise en charge</p>

<p>&amp;_revinclude=HealthcareService:location #inclus les HealthcareService
qui référencent les Location</p>

<p>[Réponse “simplifiée” :]{.underline}</p>

<p>HTTP 200 OK<br />
resourceType: Bundle<br />
type: searchset<br />
total: 2</p>

<p>Location1 (match) UE1(include)<br />
Location2 (match) UE2(include)</p>

<h4 id="scénario-4-données-capacitaires-à-partir-dune-date-de-mise-à-jour">Scénario 4 : Données capacitaires à partir d’une date de mise à jour</h4>

<p>[Description du scénario :]{.underline} un consommateur souhaite mettre
à jour dans son système les données de capacité</p>

<p>à partir d'une date de mise à jour &gt;= 06/11/2022-15h00</p>

<p>[Requête :]{.underline}</p>

<p>get[BASE]/Location?_lastUpdated=ge2022-11-06T15:00&amp;_revinclude=HealthcareService:location</p>

<p>[Requête expliquée :]{.underline}</p>

<p>get[BASE]/Location?_lastUpdated=ge2022-11-06T15:00 #critère de
recherche sur la date de mise à jour/ge=greater or equal</p>

<p>&amp;_revinclude=HealthcareService:location #inclus les HealthcareService
qui référencent les Location</p>

<p>[Réponse “simplifiée” :]{.underline}</p>

<p>HTTP 200 OK<br />
resourceType: Bundle<br />
type: searchset<br />
total: 1</p>

<p>Location1 (match) UE1(include)</p>

<h4 id="scénario-5-données-capacitaires-dune-offre-opérationnelle">Scénario 5 : Données capacitaires d’une offre opérationnelle</h4>

<p>[Prérequis :]{.underline} un consommateur recherche au préalable une
offre de santé correspondant à ses critères via le service de recherche
en 2.4. Le service de recherche envoie les identifiants des offres
correspondant aux critères.</p>

<p>[Description du scénario :]{.underline} un consommateur souhaite
connaitre la situation des capacités pour les offres identifiées via le
service 2.4 = UE1 ou UE2 ou UE3</p>

<p>[Requête :]{.underline}</p>

<p>get[BASE]/Location?_has:HealthcareService:location:identifier=UE1,UE2,UE3&amp;_revinclude=HealthcareService:location</p>

<p>[Requête expliquée :]{.underline}</p>

<p>get[BASE]/Location?_has:HealthcareService:location:identifier=UE1,UE2,UE3
#critère de recherche sur l’identifiant de l’offre. Utilisation _has
(reverse chaining) car c’est HealthcareService qui fait référence à
Location.</p>

<p>&amp;_revinclude=HealthcareService:location #inclus les HealthcareService
qui référencent les Location</p>

<p>[Réponse “simplifiée” :]{.underline}</p>

<p>HTTP 200 OK<br />
resourceType: Bundle<br />
type: searchset<br />
total: 4</p>

<p>Location1 (match) UE1(include)<br />
Location2 (match) UE2(include)<br />
Location3 (match) UE3(include)<br />
Location4 (match) UE3(include)</p>

<h1 id="annexes">Annexes</h1>

<h2 id="jeu-de-données-pour-exemple">Jeu de données pour exemple</h2>

<p><img src="image9.png" alt="Hiérarchie jeu de donnée" /></p>

<table>
  <thead>
    <tr>
      <th>Location v3.0</th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ID</td>
      <td>Location1</td>
      <td>Location2</td>
      <td>Location 3</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>dateModification</td>
      <td>2022-11-07T14:38</td>
      <td>2022-11-06T14:37</td>
      <td>2022-11-06T14:37</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>LieuRealisationOffre</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>idExterneSynchro</td>
      <td>Toto</td>
      <td>Titi</td>
      <td>Tata</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>idPointSaisie</td>
      <td>UE1</td>
      <td>UE2</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>UF1</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>communeCOG</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>Adresse</td>
      <td>27 Rue du Faubourg Saint-Jacques</td>
      <td>100 Bd du Général Leclerc</td>
      <td>47-83 Bd de l’Hôpital</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>Adresse/codePostal</td>
      <td>75014</td>
      <td>92110</td>
      <td>75013</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>Adresse/localite</td>
      <td>Paris</td>
      <td>Clichy</td>
      <td>Paris</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>EquipementSpecifique</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>typeEquipement</td>
      <td>Table de bloc opératoire obésité (poids entre 150 et 250 kg) - bariatrique</td>
      <td>Coronaroscanner</td>
      <td>Angioscope + Coronaroscanner</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>typeCaracteristique</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>valeurLimite</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>CapacitePriseCharge</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>affectationTemporaire</td>
      <td>Aucune</td>
      <td>Aucune</td>
      <td>Aucune</td>
      <td>Aucune</td>
      <td>Aucune</td>
      <td>Aucune</td>
      <td>Covid+</td>
      <td>Aucune</td>
      <td>Aucune</td>
      <td>Aucune</td>
      <td>Aucune</td>
      <td>Covid+</td>
      <td>Covid+</td>
    </tr>
    <tr>
      <td>natureCapacite</td>
      <td>Lit</td>
      <td>Lit</td>
      <td>Lit</td>
      <td>Lit</td>
      <td>Lit</td>
      <td>Lit</td>
      <td>Lit</td>
      <td>Lit</td>
      <td>Lit</td>
      <td>Lit</td>
      <td>Lit</td>
      <td>Lit</td>
      <td>Lit</td>
    </tr>
    <tr>
      <td>statutCapacite</td>
      <td>Installé</td>
      <td>Disponible</td>
      <td>Occupé</td>
      <td>Fermé</td>
      <td>Installé</td>
      <td>Disponible</td>
      <td>Disponible</td>
      <td>Installé</td>
      <td>Disponible</td>
      <td>Disponible</td>
      <td>Disponible</td>
      <td>Disponible</td>
      <td>Disponible</td>
    </tr>
    <tr>
      <td>temporaliteCapacite</td>
      <td>Courante</td>
      <td>Courante</td>
      <td>Courante</td>
      <td>Courante</td>
      <td>Courante</td>
      <td>Courante</td>
      <td>Courante</td>
      <td>Courante</td>
      <td>Courante</td>
      <td>Courante</td>
      <td>Courante</td>
      <td>Courante</td>
      <td>Courante</td>
    </tr>
    <tr>
      <td>nombreCapacite</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>14</td>
      <td>10</td>
      <td>4</td>
      <td>24</td>
      <td>10</td>
      <td>4</td>
      <td>6</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <td>dateMAJCapacite</td>
      <td>07/11/2022 - 14:37</td>
      <td>07/11/2022 - 14:37</td>
      <td>07/11/2022 - 14:37</td>
      <td>01/11/2022 - 12:37</td>
      <td>06/11/2022 - 14:37</td>
      <td>06/11/2022 - 14:37</td>
      <td>06/11/2022 - 14:37</td>
      <td>06/11/2022 - 14:37</td>
      <td>06/11/2022 - 14:37</td>
      <td>06/11/2022 - 14:37</td>
      <td>06/11/2022 - 14:37</td>
      <td>06/11/2022 - 14:37</td>
      <td>06/11/2022 - 14:37</td>
    </tr>
    <tr>
      <td>genreCapaciteDispo</td>
      <td>Indéterminé</td>
      <td>Indéterminé</td>
      <td>Indéterminé</td>
      <td>Indéterminé</td>
      <td>Indéterminé</td>
      <td>Indéterminé</td>
      <td>Indéterminé</td>
      <td>Indéterminé</td>
      <td>Homme</td>
      <td>Femme</td>
      <td>Indéterminé</td>
      <td>Homme</td>
      <td>Femme</td>
    </tr>
    <tr>
      <td>typeFermetureCapacite</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>typeLitSupplementaire</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>typeCrise</td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<table>
  <thead>
    <tr>
      <th><strong>HealthcareService 3.0</strong></th>
      <th> </th>
      <th> </th>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>ID</td>
      <td>UE1</td>
      <td>UE2</td>
      <td>UE3</td>
      <td>UE4</td>
    </tr>
  </tbody>
</table>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:2" role="doc-endnote">
      <p><a href="https://www.hl7.org/fhir/bundle.html">https://www.hl7.org/fhir/bundle.html</a> <a href="#fnref:2" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:3" role="doc-endnote">
      <p><a href="https://www.hl7.org/fhir/operationoutcome.html">https://www.hl7.org/fhir/operationoutcome.html</a> <a href="#fnref:3" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:4" role="doc-endnote">
      <p>https://www.hl7.org/fhir/search.html#has <a href="#fnref:4" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>



</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&#xA0;

                <a href="specifications_fonctionnelles.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&#xA0;

                <a href="autres_ressources.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &#169; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="https://esante.gouv.fr">ANS</a>.  Package ans.fhir.fr.ror#3.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Fri, Apr 7, 2023 12:46+0000">2023-04-07</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)"></span>
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                  | <a style="color: #81BEF7" target="_blank" href="https://interop.esante.gouv.fr/ig/fhir/ror/history.html">Version History</a> | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/ansforge/ROR_ressource-conformance-3.0/issues/new">New Issue</a>
                

          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>

  <!-- Ajout ANS -->
  <script src="assets/js/app.js" type="text/javascript"> </script>
  <script src="assets/js/vendor.js" type="text/javascript"> </script>
  <!-- Fin ajout ANS -->

  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->


  
    
  



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->


  <!-- AJOUT ANS -->

<footer class="footer footer-principal" role="contentinfo">
  <div class="footer__region1">
    <div class="container">
      <div class="row">

        <div class="col-md-6 col-lg-4 text-center text-md-left">
          <div class="logos">        
            <div class="logo logo--0">
              <a href="https://solidarites-sante.gouv.fr" title="Ministère des Solidarités et de la Santé (nouvelle fenêtre)" target="_blank" rel="nofollow">
                
                <img src="assets/images/logo-ministere.svg" alt="Ministère des Solidarités et de la Santé" width="133" height="77" loading="lazy" />
                
              </a>
            </div>
        
            <div class="logo logo--1">
              <a href="https://esante.gouv.fr/" title="Agence du numérique en santé (nouvelle fenêtre)" target="_blank" rel="nofollow">
                
                <img src="assets/images/logo-ANS-footer.svg" alt="Agence du numérique en santé" width="106" height="74" loading="lazy" />
              </a>
            </div>
          </div>
        </div>
        
        <div class="col-md-6 col-lg-4 text-center text-md-left">
          <p class="footer__title">Agence du Numérique en Santé</p>
          <p>2-10 Rue d'Oradour-sur-Glane 75015 Paris</p>

          <!-- <div class="m-social">
            <ul class="m-social__list">        
              <li class="m-social__item">
                <a class="m-social__link" href="https://www.linkedin.com/company/agence-du-numerique-en-sante/" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-linkedin" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#linkedin"></use></svg>
                  </div>
                  <span class="sr-only">linkedin</span>
                </a>
              </li>
              <li class="m-social__item">
                <a class="m-social__link" href="https://twitter.com/esante_gouv_fr" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-twitter" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#twitter"></use></svg>
                  </div>
                  <span class="sr-only">twitter</span>
                </a>
              </li>
              <li class="m-social__item">
                <a class="m-social__link" href="https://www.youtube.com/channel/UCd1zuSaU5cE1lRCpwv_HSMA" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-youtube" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#youtube"></use></svg>
                  </div>
                  <span class="sr-only">youtube</span>
                </a>
              </li>
              <li class="m-social__item">
                <a class="m-social__link" href="https://esante.gouv.fr/rss.xml" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-rss" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#rss"></use></svg>
                  </div>
                  <span class="sr-only">rss</span>
                </a>
              </li>
            </ul>
          </div> -->
        </div>
        
        <div class="col-6 col-lg-4">
          <ul class="footer-list">
            <li class="footer-list__item footer-list__item--hasIcon">
              <a href="mailto:ci-sis@esante.gouv.fr" class="mailto-link">
                <svg class="svg-icon svg-angle-right" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#angle-right"></use></svg>Contact</a>
              </li>
              <!-- <li class="footer-list__item">
                <a href="https://interop-pprod.esante.gouv.fr/ci-sis-specifications/wp-content/uploads/CGU_espace_de_tests_v1.1.pdf" class="file-link">Mentions légales</a>
              </li>
               -->
            </ul>
          </div>

        </div>
      </div>
    </div>
    
    <!-- <div class="footer__region2">
      <div class="container">
        <div class="footer-contentinfo">
          <ul class="footer-list footer-list--inline">

          </ul>
        </div>
      </div>
    </div> -->
  </footer>
  </body>
</html>

